<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report Issue - Road Issue Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-road text-purple-600 text-2xl"></i>
                    <span class="text-xl font-bold text-gray-800">Road Tracker</span>
                </div>
                <div class="flex items-center space-x-6">
                    <a href="issues.html" class="text-gray-600 hover:text-purple-600 transition">
                        <i class="fas fa-list mr-2"></i>Issues
                    </a>
                    <a href="add-issue.html" class="text-purple-600 font-semibold transition">
                        <i class="fas fa-plus-circle mr-2"></i>Report Issue
                    </a>
                    <div class="relative">
                        <button onclick="toggleDropdown()" class="flex items-center space-x-2 text-gray-600 hover:text-purple-600 transition">
                            <i class="fas fa-user-circle text-2xl"></i>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div id="dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-10">
                            <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-purple-50">
                                <i class="fas fa-user mr-2"></i>Profile
                            </a>
                            <a href="login.html" class="block px-4 py-2 text-gray-800 hover:bg-purple-50">
                                <i class="fas fa-sign-out-alt mr-2"></i>Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <div class="max-w-3xl mx-auto">
            <div class="mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-2">Report a Road Issue</h1>
                <p class="text-gray-600">Help us improve road safety by reporting problems you encounter</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-8">
                <form action="issues.html" method="get" onsubmit="return handleSubmit(event)">
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-semibold mb-2">
                            <i class="fas fa-heading mr-2"></i>Issue Title *
                        </label>
                        <input type="text" required
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 outline-none transition"
                            placeholder="e.g., Large pothole on Main Street">
                    </div>

                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-semibold mb-2">
                            <i class="fas fa-list mr-2"></i>Category *
                        </label>
                        <select required
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 outline-none transition">
                            <option value="">Select a category</option>
                            <option value="pothole">Pothole</option>
                            <option value="streetlight">Broken Streetlight</option>
                            <option value="garbage">Garbage Accumulation</option>
                            <option value="flooding">Road Flooding</option>
                            <option value="signage">Damaged Signage</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-semibold mb-2">
                            <i class="fas fa-align-left mr-2"></i>Description *
                        </label>
                        <textarea required rows="5"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 outline-none transition"
                            placeholder="Provide detailed information about the issue..."></textarea>
                    </div>

                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-semibold mb-2">
                            <i class="fas fa-map-marker-alt mr-2"></i>Location
                        </label>
                        <input type="text"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 outline-none transition"
                            placeholder="e.g., Main St & 5th Avenue, Downtown">
                    </div>

                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-semibold mb-2">
                            <i class="fas fa-image mr-2"></i>Upload Photo *
                        </label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-purple-500 transition cursor-pointer">
                            <input type="file" id="fileInput" accept="image/*" required class="hidden" onchange="handleFileSelect(event)">
                            <label for="fileInput" class="cursor-pointer">
                                <i class="fas fa-cloud-upload-alt text-5xl text-gray-400 mb-4"></i>
                                <p class="text-gray-600 mb-2">Click to upload or drag and drop</p>
                                <p class="text-sm text-gray-500">PNG, JPG, or JPEG (max. 5MB)</p>
                            </label>
                            <div id="preview" class="mt-4 hidden">
                                <img id="previewImg" class="max-h-64 mx-auto rounded-lg shadow-md">
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4">
                        <button type="submit"
                            class="flex-1 bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition transform hover:scale-105">
                            <i class="fas fa-paper-plane mr-2"></i>Submit Report
                        </button>
                        <a href="issues.html"
                            class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition text-center">
                            <i class="fas fa-times mr-2"></i>Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        function toggleDropdown() {
            document.getElementById('dropdown').classList.toggle('hidden');
        }

        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewImg').src = e.target.result;
                    document.getElementById('preview').classList.remove('hidden');
                }
                reader.readAsDataURL(file);
            }
        }

        function handleSubmit(e) {
            e.preventDefault();
            alert('Issue reported successfully!');
            window.location.href = 'issues.html';
            return false;
        }

        window.onclick = function(e) {
            if (!e.target.matches('.fa-chevron-down') && !e.target.matches('.fa-user-circle')) {
                const dropdown = document.getElementById('dropdown');
                if (!dropdown.classList.contains('hidden')) {
                    dropdown.classList.add('hidden');
                }
            }
        }
    </script>
</body>
</html>